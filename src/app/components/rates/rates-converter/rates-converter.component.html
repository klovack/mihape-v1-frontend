
<form (change)="onConvert()" [formGroup]="_converterForm" novalidate>
  <div class="converter">
    <div class="input">
      <label for="from-amount">Send</label>
      <mat-form-field class="converter-amount-input">
        <input
          matInput
          formControlName="fromAmount"
          type="text" 
          id="from-amount"
          autocomplete="off">
      </mat-form-field>
    </div>
    <mat-select
      (selectionChange)="onConvert()"
      formControlName="fromBase"
      name="from-base" 
      id="from-base"
      class="currency-select"
      placeholder="Base">
      <mat-option 
        value="IDR">
        IDR
    </mat-option>
    </mat-select>
  
    <!-- Separator / Loading -->
    <app-loading-bounce [isBouncing]="isLoading"></app-loading-bounce>
  
    <div class="input">
      <label for="from-amount">Estimation</label>
      <mat-form-field class="converter-amount-input">
        <input
          matInput
          formControlName="toAmount"
          type="text" 
          id="to-amount">
      </mat-form-field>
    </div>
    <mat-select
      (selectionChange)="onConvert()"
      placeholder="Base"
      formControlName="toBase"
      name="to-base" 
      id="to-base"
      class="currency-select">
      <mat-option 
        *ngFor="let currencyType of currencyTypes" 
        [value]="currencyType.name">
        {{currencyType.name}}
      </mat-option>
    </mat-select>
  </div>

  <p class="error center">{{errorMessage}}</p>
  <mat-checkbox 
    (mouseenter)="showCombineTooltip()"
    (mouseleave)="hideCombineTooltip()"
    name="combine-fee" 
    id="combine-fee" 
    formControlName="combineFee"
    (change)="onConvert()"
    color="primary">Combine With Fee
    <div *ngIf="combineTooltip" id="combine-tooltip">
      <p>
        Check this if you want the fee to be included.
      </p>
    </div>
  </mat-checkbox>

</form>
<app-rates-description [rates]="_ratesService.rates"></app-rates-description>
<button class="primary-button main" (click)="onSend()">Send</button>