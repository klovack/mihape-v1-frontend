<div class="container">
  <h2 class="title">Add Transaction Info</h2>
  <p id="show-desc-toggle">Why do i need to fill this?
    <fa-icon (mouseenter)="showDesc()" (mouseleave)="showDesc()" [icon]="faInfo"></fa-icon>
  </p>
  <div class="description" [class.expand]="doShowDescription">
    <p>It allows you to differentiate which transaction belongs to which person. The purpose field is necessary, but the payment details is not.</p>
    <p>However, we will only write to the recipient what is written in the payment details field.</p>
  </div>

  <!-- Transaction Data Form -->
  <form (ngSubmit)="onSubmit()" #dataForm="ngForm" class="trx-form">
    <div class="form-field">
      <label for="name">Purpose*</label>
      <mat-form-field class="full-width" >
        <mat-select [(ngModel)]="data.purpose" #purpose="ngModel" [(value)]="data.purpose" name="purpose" required>
          <mat-option 
            *ngFor="let transactionPurpose of transactionPurposes" 
            [value]="transactionPurpose.name">
            {{transactionPurpose.name}}
          </mat-option>
        </mat-select>
        <mat-error>
          Purpose field is required
        </mat-error>
      </mat-form-field>
    </div>
    <div class="form-field">
      <label for="payment-details">Payment Details</label>
      <mat-form-field class="full-width">
        <textarea matInput [(ngModel)]="data.paymentDetails" #paymentDetails="ngModel" name="paymentDetails" maxlength="120" id="payment-details" name="payment-details"></textarea>
        <mat-hint align="end">{{data.paymentDetails.length}} / 120</mat-hint>
      </mat-form-field>
    </div>

    <button
      type="submit" 
      class="submit-button center"
      [class.disabled]="data.purpose === ''">
      {{data.purpose ? 'Update' : 'Add'}} Info
    </button>
  </form>
</div>